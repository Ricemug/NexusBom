# ğŸ­ BOM è®¡ç®—å¼•æ“

> é«˜æ€§èƒ½ç‰©æ–™æ¸…å•è®¡ç®—å¼•æ“ï¼Œä¸“ä¸º PLM/ERP ç³»ç»Ÿè®¾è®¡

[English](../README.md) | [ç¹é«”ä¸­æ–‡](./README.zh-TW.md) | [Deutsch](./README.de.md)

[![è®¸å¯è¯](https://img.shields.io/badge/license-AGPL--3.0%20%7C%20Commercial-blue.svg)](../LICENSE)
[![Rust](https://img.shields.io/badge/rust-1.75+-orange.svg)](https://www.rust-lang.org)
[![æµ‹è¯•](https://img.shields.io/badge/tests-passing-brightgreen.svg)]()

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

- âš¡ **è¶…é«˜æ€§èƒ½**ï¼šå›¾ç»“æ„æ„å»ºä»…éœ€å¾®ç§’ï¼Œç‰©æ–™å±•å¼€ <25Î¼s
- ğŸ”§ **SAP/Oracle å…¼å®¹**ï¼šä¸ºä¼ä¸šçº§ ERP ç³»ç»Ÿé‡èº«æ‰“é€ 
- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ**ï¼šæä¾› C/C++/Python/Java çš„ FFI ç»‘å®š
- ğŸ’¾ **æ™ºèƒ½ç¼“å­˜**ï¼šåŒå±‚ç¼“å­˜ï¼ˆå†…å­˜ + æŒä¹…åŒ–ï¼‰å®ç°æœ€ä¼˜æ€§èƒ½
- ğŸ”„ **å¹¶è¡Œå¤„ç†**ï¼šåˆ©ç”¨ Rayon å‘æŒ¥å¤šæ ¸è®¡ç®—èƒ½åŠ›
- ğŸ“Š **å®Œæ•´ BOM åŠŸèƒ½**ï¼š
  - ç‰©æ–™å±•å¼€ï¼ˆå¤šçº§ BOMï¼‰
  - æˆæœ¬è®¡ç®—ä¸æ±‡æ€»
  - åæŸ¥åˆ†æï¼ˆWhere-Usedï¼‰
  - å˜æ›´å½±å“åˆ†æ
  - è™šæ‹Ÿä»¶å¤„ç†
  - æ›¿ä»£ BOM æ”¯æŒ

## ğŸ“¦ å®‰è£…æ–¹å¼

### Rust

```toml
[dependencies]
bom-core = "0.1"
bom-graph = "0.1"
bom-calc = "0.1"
```

### C/C++

```bash
# ä¸‹è½½é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶
wget https://github.com/yourname/bom/releases/latest/download/libbom_ffi.so

# æˆ–ä»æºç ç¼–è¯‘
cargo build --release -p bom-ffi
```

### Pythonï¼ˆé€šè¿‡ FFIï¼‰

```python
# å³å°†æ¨å‡º
pip install bom-engine
```

## ğŸ¯ å¿«é€Ÿå…¥é—¨

```rust
use bom_core::repository::memory::InMemoryRepository;
use bom_graph::BomGraph;
use bom_calc::explosion::ExplosionCalculator;

// åˆ›å»ºç®€å•çš„ BOM ç»“æ„
let mut repo = InMemoryRepository::new();

// æ·»åŠ ç»„ä»¶
repo.add_component(create_component("BIKE", "è‡ªè¡Œè½¦", 500));
repo.add_component(create_component("FRAME", "è½¦æ¶", 150));
repo.add_component(create_component("WHEEL", "è½¦è½®", 50));

// å®šä¹‰ BOM å…³ç³»
repo.add_bom_item(create_bom_item("BIKE", "FRAME", 1));
repo.add_bom_item(create_bom_item("BIKE", "WHEEL", 2));

// æ„å»ºå›¾å¹¶è®¡ç®—
let graph = BomGraph::from_component(&repo, &ComponentId::new("BIKE"), None)?;
let calculator = ExplosionCalculator::new(&graph);
let result = calculator.explode(&ComponentId::new("BIKE"), Decimal::from(10))?;

println!("éœ€è¦çš„æ€»é¡¹ç›®æ•°ï¼š{}", result.items.len());
```

å®Œæ•´ç¤ºä¾‹è¯·å‚è€ƒ [examples/simple](../examples/simple)ã€‚

## ğŸ“Š æ€§èƒ½è¡¨ç°

åœ¨æ™®é€šæ¶ˆè´¹çº§ç¡¬ä»¶ä¸Šçš„æµ‹è¯•ç»“æœï¼š

| æ“ä½œ | æ—¶é—´ | è¯´æ˜ |
|------|------|------|
| å›¾ç»“æ„æ„å»º | ~1.2-2.1 Î¼s | æ„å»º BOM å›¾ç»“æ„ |
| ç‰©æ–™å±•å¼€ | ~19-24 Î¼s | å¤šçº§ BOM å±•å¼€ |
| æˆæœ¬è®¡ç®— | ~21-28 Î¼s | æˆæœ¬æ±‡æ€»ä¸åˆ†æ |
| åæŸ¥æŸ¥è¯¢ | ~192 ns | é€†å‘ BOM æŸ¥æ‰¾ |

è¯¦ç»†æŒ‡æ ‡è¯·å‚é˜… [BENCHMARK_RESULTS.md](../BENCHMARK_RESULTS.md)ã€‚

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            åº”ç”¨å±‚                            â”‚
â”‚    (ERP/PLM/å®šåˆ¶åº”ç”¨ç¨‹åº)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           FFI å±‚ (C API)                     â”‚
â”‚       bom-ffi (libbom_ffi.so)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            è®¡ç®—å¼•æ“                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ç‰©æ–™å±•å¼€  â”‚  æˆæœ¬    â”‚  åæŸ¥åˆ†æ    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         å›¾ç»“æ„ & ç¼“å­˜å±‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  BOM å›¾     â”‚  åˆ†å±‚ç¼“å­˜          â”‚       â”‚
â”‚  â”‚  (Arena)    â”‚  (Moka + Redb)     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          æ•°æ®è®¿é—®å±‚                          â”‚
â”‚     (SAP/Oracle/å®šåˆ¶æ•°æ®åº“é€‚é…å™¨)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”Œ ç³»ç»Ÿé›†æˆ

### SAP é›†æˆ

```rust
// ä½¿ç”¨ SAP é€‚é…å™¨ï¼ˆå³å°†æ¨å‡ºï¼‰
use bom_adapters::sap::SapRepository;

let repo = SapRepository::connect(sap_config)?;
let graph = BomGraph::from_component(&repo, &component_id, None)?;
```

### Oracle é›†æˆ

```rust
// ä½¿ç”¨ Oracle é€‚é…å™¨ï¼ˆå³å°†æ¨å‡ºï¼‰
use bom_adapters::oracle::OracleRepository;

let repo = OracleRepository::connect(oracle_config)?;
let graph = BomGraph::from_component(&repo, &component_id, None)?;
```

### è‡ªå®šä¹‰æ•°æ®åº“

å®ç° `BomRepository` traitï¼š

```rust
impl BomRepository for MyCustomRepo {
    fn get_component(&self, id: &ComponentId) -> Result<Component>;
    fn get_bom_items(&self, parent_id: &ComponentId, date: Option<DateTime<Utc>>) -> Result<Vec<BomItem>>;
    // ... å…¶ä»–æ–¹æ³•
}
```

## ğŸ“š æŠ€æœ¯æ–‡æ¡£

- [API æ–‡æ¡£](https://docs.rs/bom-core)
- [é›†æˆæŒ‡å—](./INTEGRATION.md)
- [æ€§èƒ½è°ƒä¼˜](./PERFORMANCE.md)
- [FFI ä½¿ç”¨æŒ‡å—](./FFI_GUIDE.md)

## ğŸ¤ è´¡çŒ®å‚ä¸

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼è¯·å‚é˜… [CONTRIBUTING.md](../CONTRIBUTING.md) äº†è§£è´¡çŒ®å‡†åˆ™ã€‚

## ğŸ’ æ”¯æŒæœ¬é¡¹ç›®

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨çš„ä¸šåŠ¡æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘æ”¯æŒå¼€å‘ï¼š

- â­ ç»™é¡¹ç›®ç‚¹ä¸ªæ˜Ÿ
- ğŸ› æŠ¥å‘Šé—®é¢˜å¹¶æå‡ºåŠŸèƒ½å»ºè®®
- ğŸ’° [Ko-fi èµåŠ©](https://ko-fi.com/ivanh0906)
- ğŸ’° [GitHub Sponsors](https://github.com/sponsors/yourname)
- ğŸ¢ [å•†ä¸šè®¸å¯](../COMMERCIAL-LICENSE.md) ä¾›ä¼ä¸šä½¿ç”¨

## ğŸ“„ è®¸å¯æ–¹å¼

æœ¬é¡¹ç›®é‡‡ç”¨åŒé‡è®¸å¯ï¼š

- **å¼€æºè®¸å¯**ï¼š[AGPL-3.0](../LICENSE) ä¾›å¼€æºé¡¹ç›®ä½¿ç”¨
- **å•†ä¸šè®¸å¯**ï¼š[å•†ä¸šè®¸å¯](../COMMERCIAL-LICENSE.md) ä¾›ä¸“æœ‰è½¯ä»¶ä½¿ç”¨

è¯·é€‰æ‹©æœ€é€‚åˆæ‚¨éœ€æ±‚çš„è®¸å¯æ–¹å¼ã€‚

## ğŸŒŸ ä½¿ç”¨æ¡ˆä¾‹

- æ‚¨çš„å…¬å¸åç§°
- [æäº¤ PR åŠ å…¥æ‚¨çš„æ¡ˆä¾‹ï¼]

## ğŸ“ è”ç³»æ–¹å¼

- **é—®é¢˜æŠ¥å‘Š**ï¼š[GitHub Issues](https://github.com/yourname/bom/issues)
- **è®¨è®ºäº¤æµ**ï¼š[GitHub Discussions](https://github.com/yourname/bom/discussions)
- **ç”µå­é‚®ç®±**ï¼šxiaoivan1@proton.me

---

ä¸ºåˆ¶é€ ä¸šç”¨ â¤ï¸ æ‰“é€ 
